# Hridaya — MVP Specification

## Vision

Hridaya is a rigorous personal practice platform for cultivating bodhicitta through systematic development of the brahmaviharas.

Inspired by Math Academy's structural approach — prerequisite-based progression, daily commitment, honest self-assessment, no shortcuts — but adapted for the distinct nature of heart cultivation.

**This is not wellness. This is not optional.** It's serious training in service of all beings.

---

## What Is Being Developed?

Bodhicitta cultivation is not like learning math. There are no facts to memorize, no procedures to drill. Four dimensions develop together:

| Dimension | What it is |
|-----------|-----------|
| **Capacity** | The ability to generate and sustain the qualities (like fitness) |
| **Disposition** | Character — becoming the kind of person who responds with compassion |
| **Understanding** | Insight into suffering, interdependence, the nature of reality |
| **Recognition** | Seeing what's already present — the heart is already awake |

**We don't track these.** You can't score "recognition" after a sit. These dimensions develop through practice — daily, consistent practice. The app supports the practice. The practice develops the dimensions. Trust the process.

---

## What Transfers from Math Academy (and What Doesn't)

**What transfers:**
- **Structure** — Clear progression with real prerequisites
- **Daily commitment** — Showing up consistently, non-negotiable
- **Honesty** — Readiness gates, genuine self-assessment
- **No shortcuts** — Must do the hard work, can't skip to advanced
- **Targeted support** — When struggling, identify the specific foundation to strengthen

**What doesn't transfer:**
- **Spaced repetition for memory** — We're not memorizing; consistency matters for different reasons
- **Efficiency/speed framing** — "Develop bodhicitta faster" misses the point
- **Quantification (XP)** — Risks spiritual materialism, turns intrinsic motivation extrinsic
- **Objective measurement** — Heart development is inherently self-assessed

**Language shift:**
- Not "mastery" → **genuine cultivation**
- Not "knowledge points" → **aspects** or **dimensions**
- Not "spaced repetition" → **consistent practice with integration time**
- Not "efficiency" → **depth** and **thoroughness**

---

## Core Principles

1. **Bodhicitta is the container.** Every practice is framed by the aspiration for the benefit of all beings. The brahmaviharas are methods within this larger orientation.

2. **Rigor, not softness.** The heart isn't fragile. Avalokiteshvara has a thousand arms because compassion is *work*. This is training, not pampering.

3. **Honesty is the foundation.** Without a living teacher to see you, you must see yourself. The app creates structures that invite — and require — genuine self-assessment.

4. **Daily commitment.** You show up every day. Missing a day breaks your streak and requires you to account for why before proceeding.

5. **Lineage matters.** Practices are labeled by source tradition. We honor where these methods come from.

6. **Integration takes time.** Unlike math facts, heart qualities need time to settle, integrate, and become dispositional. The structure honors this.

---

## The Vow

On first use, and periodically revisited, the practitioner articulates their aspiration:

- *Why are you here?*
- *What are you committing to?*
- *For whose benefit do you practice?*

This vow is stored and can be surfaced when the practitioner is struggling or slipping. It's not a contract with the app — it's a reminder of your own intention.

---

## Session Flow

Every practice session follows this structure:

```
┌─────────────────────────────────────────┐
│  1. OPENING — Bodhicitta Aspiration     │
│     Generate the motivation             │
│     "For the benefit of all beings..."  │
├─────────────────────────────────────────┤
│  2. PRACTICE                            │
│     Text-guided meditation or           │
│     micro-practice instructions         │
├─────────────────────────────────────────┤
│  3. REFLECTION                          │
│     Written response to a prompt        │
│     (Must be substantive, not token)    │
├─────────────────────────────────────────┤
│  4. CLOSING — Dedication of Merit       │
│     Offer the practice to all beings    │
└─────────────────────────────────────────┘
```

---

## Knowledge Graph

### Structure Overview

```
FOUNDATION
├── Vow — Your articulated aspiration
└── Bodhicitta Aspiration practices

METTA (Loving-kindness)
├── Self
├── Benefactor ──────────────── requires: Self + streak + readiness gate
├── Dear Friend ─────────────── requires: Benefactor + streak + readiness gate
├── Neutral Person ──────────── requires: Dear Friend + streak + readiness gate
├── Difficult Person ────────── requires: Neutral Person + streak + readiness gate
└── All Beings ──────────────── requires: Difficult Person + streak + readiness gate

KARUNA (Compassion) ─────────── requires: Metta complete + streak + readiness gate
├── Self
├── Benefactor
├── Dear Friend
├── Neutral Person
├── Difficult Person
├── All Beings
└── Tonglen ─────────────────── requires: Karuna for All Beings

MUDITA (Sympathetic Joy) ────── requires: Karuna complete + streak + readiness gate
├── Self (appreciating own good fortune)
├── Benefactor
├── Dear Friend
├── Neutral Person
├── Difficult Person
└── All Beings

UPEKKHA (Equanimity) ────────── requires: Mudita complete + streak + readiness gate
├── Self
├── Benefactor
├── Dear Friend
├── Neutral Person
├── Difficult Person
└── All Beings

DEEPENING (unlocks progressively)
├── Bodhisattva Vow practices
├── Lojong (Mind Training) slogans
└── Integration practices
```

### Node Contents

Each node (e.g., "Metta → Self") contains:

- **Formal practices:** Text-guided meditations (5-20 min), labeled by source tradition
- **Micro-practices:** Brief daily life prompts
- **Reflection prompts:** Questions specific to this practice area

---

## Progression System

### Requirements to Advance

Moving to the next node requires ALL of:

1. **Minimum time at current stage:** At least 7 days practicing this node
2. **Active streak:** You must have a current streak (no missed days)
3. **Readiness gate:** Written self-assessment answering:
   - *Have you genuinely cultivated [this quality] for [this object]?*
   - *What resistance or difficulty remains?*
   - *Why are you ready to proceed?*

The app trusts your answer. But you have to give it honestly.

### Streak Rules

- **Streak = consecutive days with at least one completed practice session**
- **Missing a day breaks the streak**
- **Before you can practice again after missing a day:** The app asks why you missed and what arose. You must write a response before continuing.
- **Advancing to a new stage requires an active streak.** If your streak is broken, you must rebuild it before progressing.

This is serious. We are not fucking around.

---

## Missed Day Inquiry

When you return after missing a day:

```
┌─────────────────────────────────────────┐
│  You didn't practice yesterday.         │
│                                         │
│  What arose?                            │
│  What does this tell you about your     │
│  commitment right now?                  │
│  How would you like to proceed?         │
│                                         │
│  [Write your response to continue]      │
└─────────────────────────────────────────┘
```

This isn't shame. It's an invitation to honesty. But you can't skip it.

---

## Readiness Gate

When you've met the time and streak requirements and want to advance:

```
┌─────────────────────────────────────────┐
│  READINESS ASSESSMENT                   │
│  Advancing from: Metta for Self         │
│  Advancing to: Metta for Benefactor     │
│                                         │
│  1. Have you genuinely cultivated       │
│     loving-kindness toward yourself?    │
│     Not perfectly — but genuinely?      │
│                                         │
│  2. What resistance or difficulty       │
│     remains in this practice?           │
│                                         │
│  3. Why are you ready to extend this    │
│     to someone who has been kind        │
│     to you?                             │
│                                         │
│  [Your honest answers]                  │
│                                         │
│  [I am ready to proceed]                │
└─────────────────────────────────────────┘
```

---

## Data Models

### Practice

```typescript
interface Practice {
  id: string;
  title: string;
  description: string;

  // Classification
  brahmavihara: 'metta' | 'karuna' | 'mudita' | 'upekkha' | 'foundation' | 'deepening';
  object: 'self' | 'benefactor' | 'friend' | 'neutral' | 'difficult' | 'all' | null;
  type: 'formal' | 'micro';

  // Source
  tradition: 'theravada' | 'mahayana' | 'vajrayana' | 'nonsectarian' | 'nondual';
  source?: string;  // e.g., "Visuddhimagga", "Shantideva", "Pema Chödrön"

  // Content
  instructions: string;        // The actual practice instructions
  duration?: number;           // Suggested duration in minutes (formal only)
  reflectionPrompts: string[]; // Prompts to choose from after practice

  // Prerequisites
  requires: string[];          // Practice node IDs that must be completed first
}
```

### PracticeSession (a completed session)

```typescript
interface PracticeSession {
  id: string;
  date: Date;
  practiceId: string;
  reflection: string;
}
```

### UserState

```typescript
interface UserState {
  vow: string;                      // Their articulated aspiration
  currentNode: string;              // Where they are (e.g., "metta-self")
  completedNodes: string[];         // Nodes they've passed readiness gate for
  streak: number;                   // Consecutive days practiced
  lastPracticeDate: Date | null;

  // Journal
  sessions: PracticeSession[];
  missedDayReflections: Array<{ date: Date; response: string }>;
  readinessGateResponses: Array<{ node: string; response: string; date: Date }>;
}
```

That's it. ~90% reduction from what we had.

---

## Daily Practice

### The One Question

**Did you practice today?**

That's it. Not "which dimension was cultivated." Not "which knowledge point was covered." Did you sit? Did you generate the aspiration? Did you practice? Did you reflect? Did you dedicate?

### How It Works

1. Open the app
2. See a practice from your current node
3. Do it
4. Write your reflection
5. Done

The app shows you practices from your current stage. Multiple practices exist for each node (formal meditations, micro-practices, different traditions). It rotates through them. You don't need to track or optimize. Just practice.

### Why This Is Enough

Bodhicitta grows like a plant. You water it. You don't need soil moisture sensors, pH trackers, or photosynthesis efficiency graphs. You water it. Sun shines. Plant grows.

The practitioner sits. Generates aspiration. Does the practice. Reflects. Dedicates merit. Day after day. Heart opens.

---

## MVP Features

### Must Have (v0.1)

- [ ] Vow articulation on first use
- [ ] Practice library (~2-3 practices per node, labeled by tradition)
- [ ] Simple progression: 24 nodes (6 objects × 4 brahmaviharas)
- [ ] Session flow: aspiration → practice → reflection → dedication
- [ ] Streak tracking
- [ ] Missed-day inquiry
- [ ] Readiness gates for progression
- [ ] Reflection journal
- [ ] Local persistence (IndexedDB)

### Maybe Later

- [ ] Audio guidance
- [ ] Export journal
- [ ] Vow revisitation prompts
- [ ] Dark mode

---

## Tech Stack

### Recommended

- **Framework:** Next.js (App Router) + TypeScript
- **Storage:** IndexedDB via `idb` library (local-first, no backend for v0.1)
- **State:** Zustand with persist middleware
- **Styling:** Tailwind CSS

### Aesthetic Direction

- Clean, minimal, contemplative
- Not gamified — no badges, XP, or celebration confetti
- Serious but not austere
- Typography-forward

---

## Content Structure

### What Needs to Be Curated

1. **Opening Aspirations** (3-5 variations, labeled by source)
2. **Practices for each node** (2-3 per node, formal + micro, labeled by tradition)
3. **Reflection Prompts** (3-5 per node, oriented toward bodhicitta)
4. **Dedication of Merit verses** (3-5 variations, labeled by source)
5. **Readiness gate questions** (specific to each transition)

### Source Traditions

- **Theravada:** Visuddhimagga, Buddhaghosa, Analayo, classical metta instructions
- **Mahayana:** Shantideva (Bodhicaryavatara), Pema Chödrön, Dilgo Khyentse Rinpoche
- **Vajrayana/Tibetan:** Tonglen, lojong, Atisha, Jamgön Kongtrül
- **Nondual/Tantric:** Kashmir Shaivism heart teachings, Dzogchen heart instructions

### Sample Practice

```yaml
id: metta-self-theravada-001
title: Classical Metta for Self
brahmavihara: metta
object: self
type: formal
tradition: theravada
source: Based on Visuddhimagga and contemporary Theravada teachers
duration: 10

instructions: |
  Sit comfortably. Allow your body to settle.

  Bring attention to the center of your chest — the heart space.

  Call to mind your own being. You might visualize yourself sitting here,
  or simply rest in the felt sense of "I am."

  Begin to offer yourself these phrases, slowly, feeling their meaning:

  May I be free from danger.
  May I be free from mental suffering.
  May I be free from physical suffering.
  May I live with ease.

  Repeat these phrases gently. Let them sink below the words
  into actual well-wishing for yourself.

  When the mind wanders, return. When resistance arises, note it
  and continue. You are learning to wish yourself well.

reflectionPrompts:
  - What arose as you offered yourself loving-kindness?
  - Where did you feel this practice in your body, if anywhere?
  - How might developing genuine kindness toward yourself serve all beings?

requires: []
```

---

## Next Steps

1. **Curate seed content** — Draft practices, aspirations, dedications, labeled by tradition
2. **Build skeleton app** — Vow flow, session flow, basic UI
3. **Implement progression system** — Streak tracking, readiness gates
4. **Implement spaced repetition** — Within-node scheduling
5. **Daily use** — Eat your own cooking, iterate based on experience

---

## The Commitment

This app exists because you made a vow. It's a tool to support that vow, not replace it.

The rigor isn't cruelty — it's respect. For the practice, for the aspiration, for all beings who benefit when one more heart awakens.

*Hridaya: The heart as ground. The aspiration as path. The benefit of all beings as horizon.*
